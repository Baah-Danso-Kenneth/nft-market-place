(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[142],{7113:function(e,t,n){Promise.resolve().then(n.bind(n,3785)),Promise.resolve().then(n.bind(n,3428)),Promise.resolve().then(n.t.bind(n,5878,23)),Promise.resolve().then(n.t.bind(n,2972,23))},3428:function(e,t,n){"use strict";n.d(t,{default:function(){return h}});var r=n(7437),a=n(2265),i=n(9376);n(3079);var l=n(2119),c=(0,l.$)("c1ccfe81eadd2134ca7f55d8a355acfbadcf8734"),s=(0,l.$)("ac480b1a84d3fed1b996eabac25abc0f31bf8580"),u=n(6553),o=n(5810),d=n(1662),f=n(6922);function h(){let[e,t]=(0,a.useState)({name:"",description:"",price:""}),[n,l]=(0,a.useState)(void 0),[h,p]=(0,a.useState)(""),[v,b]=(0,a.useState)("List NFT"),g=(0,i.useRouter)(),{isConnected:m,signer:x}=(0,a.useContext)(f.z);async function j(e){try{var t;let n=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!n)return;let r=new FormData;r.set("file",n),p("Uploading image... Please don't click anything!");let a=await c(r);a.success&&(p(""),l(a.pinataURL))}catch(e){console.error("Error during file upload...",e)}}async function y(){let{name:t,description:r,price:a}=e;if(!t||!r||!a||!n)return p("Please fill all the fields!"),null;try{let e=await s({name:t,description:r,price:a,image:n});return e.success?e.pinataURL:null}catch(e){return console.error("Error uploading JSON metadata: ",e),null}}async function P(n){n.preventDefault();try{b("Processing...");let n=await y();if(!n)return;p("Uploading NFT... Please don't click anything!");let r=new o.CH(u.Lk,u.Mt,x),a=d.fi(e.price),i=await r.createToken(n,a);await i.wait(),b("List NFT"),p(""),t({name:"",description:"",price:""}),alert("Successfully listed your NFT!"),g.push("/")}catch(e){alert(e)}}return(0,r.jsx)("div",{children:m?(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{children:"Upload your NFT"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{children:"NFT name"}),(0,r.jsx)("input",{type:"text",value:e.name,onChange:n=>t({...e,name:n.target.value})}),(0,r.jsx)("label",{children:"NFT description"}),(0,r.jsx)("textarea",{value:e.description,onChange:n=>t({...e,description:n.target.value})}),(0,r.jsx)("label",{children:"Price (in Eth)"}),(0,r.jsx)("input",{type:"number",value:e.price,onChange:n=>t({...e,price:n.target.value})}),(0,r.jsx)("label",{children:"Upload image"}),(0,r.jsx)("input",{type:"file",onChange:j}),(0,r.jsx)("div",{children:h}),(0,r.jsx)("button",{onClick:P,children:v})]})]}):(0,r.jsx)("div",{children:"Connect Your Wallet to Continue..."})})}},9376:function(e,t,n){"use strict";var r=n(5475);n.o(r,"useParams")&&n.d(t,{useParams:function(){return r.useParams}}),n.o(r,"useRouter")&&n.d(t,{useRouter:function(){return r.useRouter}})},2119:function(e,t,n){"use strict";Object.defineProperty(t,"$",{enumerable:!0,get:function(){return a}});let r=n(3079);function a(e){let{createServerReference:t}=n(6671);return t(e,r.callServer)}}},function(e){e.O(0,[53,36,662,785,553,971,117,744],function(){return e(e.s=7113)}),_N_E=e.O()}]);